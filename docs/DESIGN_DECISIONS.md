
# üü¢ Design Decisions



### –ü–æ—á–µ–º—É aiohttp –≤–º–µ—Å—Ç–æ requests?

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π HTTP-–∫–ª–∏–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –í—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API Deribit
- –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å FastAPI –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö API
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ


### –ü–æ—á–µ–º—É Redis –¥–ª—è Celery?

- –ë—ã—Å—Ç—Ä—ã–π in-memory –±—Ä–æ–∫–µ—Ä
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Celery
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è


### Clean Architecture

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å (–∫–∞–∂–¥—ã–π —Å–ª–æ–π –º–æ–∂–Ω–æ –º–æ–∫–∞—Ç—å)
- –ó–∞–º–µ–Ω–∏–º–æ—Å—Ç—å (–ª–µ–≥–∫–æ —Å–º–µ–Ω–∏—Ç—å –ë–î –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π API)
- –ß–∏—Å—Ç–æ—Ç—É –∫–æ–¥–∞ (–∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å)


### Dependency Injection

FastAPI Depends() –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –º–æ–∫–∞–º–∏
- –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º


### –ü–æ—á–µ–º—É Unit of Work –ø–∞—Ç—Ç–µ—Ä–Ω?

- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –ë–î
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –£–¥–æ–±–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ö–∞–∂–¥—ã–π —Å–ª–æ–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.


### Docker Compose –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **FastAPI** ‚Äî REST API (–ø–æ—Ä—Ç 8000)
- **Celery Beat** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
- **Celery Worker** ‚Äî –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Redis** ‚Äî –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–≤–æ–µ–π —Å–µ—Ç–∏, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã –¥—Ä—É–≥ –¥—Ä—É–≥—É —á–µ—Ä–µ–∑ DNS –∏–º–µ–Ω–∞.