crypto_price_tracker/
├── app/
│   ├── __init__.py
│   ├── main.py                 # FastAPI приложение
│   ├── config.py               # Конфигурация (без глобальных переменных)
│   ├── database.py             # Подключение к PostgreSQL
│   ├── models.py               # SQLAlchemy модели
│   ├── schemas.py              # Pydantic схемы
│   ├── api/
│   │   ├── __init__.py
│   │   └── routes.py           # API эндпоинты
│   └── services/
│       ├── __init__.py
│       └── price_service.py    # Бизнес-логика
├── clients/
│   ├── __init__.py
│   └── deribit_client.py       # aiohttp клиент Deribit
├── tasks/
│   ├── __init__.py
│   └── price_fetcher.py        # Celery задачи
├── tests/
│   ├── __init__.py
│   ├── test_api.py
│   └── test_client.py
├── celerybeat-schedule
├── Dockerfile
├── docker-compose.yml
├── requirements.txt
├── .env.example
└── README.md


Задание:

1. Написать клиент для криптобиржи Deribit (https://docs.deribit.com/). Клиент должен каждую минуту забирать с биржи текущую цену btc_usd и eth_usd (index price валюты) после чего сохранять в базу данных тикер валюты, текущую цену и время в UNIX timestamp.

2. Написать внешнее API для обработки сохраненных данных на FastAPI.

Обязательные требования:

1. API должно включать в себя следующие методы:

- Получение всех сохраненных данных по указанной валюте

- Получение последней цены валюты

- Получение цены валюты с фильтром по дате

Все методы должны быть GET и у каждого метода должен быть обязательный query-параметр “ticker”.

2. В качестве БД использовать PostgreSQL.

3. Для периодического получения цен использовать Celery.



Критерии оценки:

1. Чистая архитектура/чистый код

2. Нейминг

3. Отсутсвие глобальных переменных

4. Умение использовать ООП

5. Понимание принятых решений и способность их объяснить


Необязательные требования:

1. Написать unit тесты для основных методов

2. Развернуть приложение в двух контейнерах для приложения и базы данных. 

3. Применить aiohttp при написании клиента.